<!doctype html><html><head><meta charset="utf-8"><title>User Login</title><link rel="stylesheet" href="/static/style.css"></head><body>
<div class="container"><h2>User Login / Register</h2>
<form id="loginForm">
  <input id="email" placeholder="email" /><br/><br/>
  <input id="password" placeholder="password" type="password"/><br/><br/>
  <button type="submit">Login</button>
</form>
<p>Or <a href="/static/user-register.html">Register</a></p>
<div id="msg"></div>
</div>
<script>
const apiPrefix = '/api/users';
document.getElementById('loginForm').addEventListener('submit', async e=>{e.preventDefault();
  const email=document.getElementById('email').value, password=document.getElementById('password').value;
  try{
    const res = await fetch(apiPrefix + '/login', {method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({email,password})});
    if(!res.ok){const t=await res.text(); document.getElementById('msg').innerText = 'Login failed: '+t; return;}
    const data = await res.json();
    localStorage.setItem('token', data.token);
    document.getElementById('msg').innerText = 'Login success. Token saved. Go to Songs.';
    window.location.href='/static/user-dashboard.html';
  }catch(err){document.getElementById('msg').innerText = 'Error: '+err}
});
</script></body></html>
